(this["webpackJsonplogin-app"]=this["webpackJsonplogin-app"]||[]).push([[0],{125:function(e,t,n){e.exports={posts:"Posts_posts__HBDHm",footer:"Posts_footer__3pxgV",btn:"Posts_btn__kK4y2",postsItem:"Posts_postsItem__Q63VX"}},128:function(e,t,n){e.exports=n(213)},133:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(17),s=n.n(r),c=(n(133),n(85)),i=n(36),l=n(8),u=n(9),m=n(12),p=n(10),h=n(13),d=n(34),g=n(42),f=n.n(g),E="https://my-json-server.typicode.com/typicode/demo/",b="12345",_=5,O=function(e){return{type:"LOGINED_FAILURE",payload:"",error:e}};function v(e){return function(t){t({type:"LOGINED_REQUEST",payload:""}),f.a.get("".concat(E,"profile")).then((function(n){var a;n.data.name===e.login&&b===e.pass?t((a=e,function(e){localStorage.setItem("login",a.login),localStorage.setItem("pass",a.pass),localStorage.setItem("isUserAuth",!0),e({type:"LOGINED_SUCCESS",payload:""})})):(t(O("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")),t({type:"LOGINED_FAILURE_DESTROY",payload:"",error:!1}))})).catch((function(e){t(O(e.toString())),t({type:"LOGINED_FAILURE_DESTROY",payload:"",error:!1})}))}}var y=n(37),j=n.n(y),S=n(217),L=n(215),P=n(216),N=n(91),I={duration:_,message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438",description:"\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"},C=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onSubmit=function(e){e.preventDefault(),n.props.onSubmitLogined()},n.handleLogin=function(e){n.props.onChangeLogin(e.target.value)},n.handlePass=function(e){n.props.onChangePass(e.target.value)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.error&&(console.log(e.error),I.description=e.error,S.a.destroy(),S.a.error(I))}},{key:"render",value:function(){var e=this.props,t=e.valid,n=e.isFetching;return o.a.createElement("div",{className:j.a.LoginPage},o.a.createElement("div",{className:j.a.widget},o.a.createElement(L.a,{spinning:n,delay:10},o.a.createElement("form",{onSubmit:this.onSubmit,className:j.a.form},o.a.createElement("h2",{className:j.a.head},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),o.a.createElement("div",{className:j.a.input},o.a.createElement(P.a,{onChange:this.handleLogin,size:"large",placeholder:"\u041b\u043e\u0433\u0438\u043d"})),o.a.createElement("div",{className:j.a.input},o.a.createElement(P.a,{onChange:this.handlePass,size:"large",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"})),o.a.createElement("div",{className:j.a.input},o.a.createElement(N.a,{disabled:t,onClick:this.onSubmit,size:"large",type:"primary",htmlType:"submit",block:!0},"\u0412\u043e\u0439\u0442\u0438"))))))}}]),t}(a.Component),F=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={login:"",pass:""},n.onChangeLogin=function(e){n.setState({login:e})},n.onChangePass=function(e){n.setState({pass:e})},n.onSubmitLogined=function(){n.props.requestLogin(n.state)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if("true"===localStorage.getItem("isUserAuth")){var e={login:localStorage.getItem("login"),pass:localStorage.getItem("pass")};this.props.requestLogin(e)}}},{key:"render",value:function(){var e=this.state,t=e.login,n=e.pass,a=!0;return""!==t&&""!==n&&(a=!1),o.a.createElement("div",null,this.props.isUserAuth?o.a.createElement(i.a,{to:"/profile"}):"",o.a.createElement(C,Object.assign({valid:a,onChangeLogin:this.onChangeLogin,onChangePass:this.onChangePass,onSubmitLogined:this.onSubmitLogined},this.props)))}}]),t}(a.Component),w=Object(d.b)((function(e){return console.log("store",e),{error:e.logined.error,isFetching:e.logined.isFetching,isFetched:e.logined.isFetched,isUserAuth:e.logined.isUserAuth}}),(function(e){return{requestLogin:function(t){return e(v(t))}}}))(F),U=n(218),D=n(63),A=function(e){return{type:"POSTS_SUCCESS",payload:e}},R=function(e){return{type:"POSTS_FAILURE",payload:"",error:e}};var T=n(219),k=n(39),x=n.n(k),G=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={commentsShow:!1},n.handleCommentShow=function(){n.setState({commentsShow:!n.state.commentsShow})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.count,n=e.title,a=e.comments,r=this.state.commentsShow,s=null;return 0!==a.length&&(s=o.a.createElement("div",{className:x.a.footer},o.a.createElement("div",{className:x.a.control},o.a.createElement(T.a,{size:"large",showZero:!0,count:t}),o.a.createElement(N.a,{onClick:this.handleCommentShow,className:x.a.btn,type:"dashed"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438")),o.a.createElement("div",{className:[x.a.comments,r?x.a.show:x.a.hide].join(" ")},a.map((function(e,t){return o.a.createElement("p",{key:t},e.body)}))))),o.a.createElement("div",{className:x.a.item},n,s)}}]),t}(a.Component),q=n(125),Q=n.n(q),z={duration:_,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043f\u043e\u0441\u0442\u0430\u0445",description:"\u041e\u0448\u0438\u0431\u043a\u0430!"},Y=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.error&&(z.description=e.error,S.a.destroy(),S.a.error(z))}},{key:"render",value:function(){var e=this.props,t=e.posts,n=e.isFetched;return t?o.a.createElement(L.a,{spinning:n,tip:"Loading..."},o.a.createElement("div",{className:Q.a.posts},t.map((function(e,t){var n=e.commentCount;return o.a.createElement(G,{key:"post"+t,count:n,title:e.title,comments:e.comments})})))):null}}]),t}(a.Component),H=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.postsFetch()}},{key:"render",value:function(){var e=this.props.posts,t=e.posts,n=e.isFetched,a=e.error;return o.a.createElement("div",null,o.a.createElement(Y,{error:a,isFetched:!n,posts:t}))}}]),t}(a.Component),V=Object(d.b)((function(e){return console.log("sr",e),{posts:e.posts,error:e.posts.posts.error}}),(function(e){return{postsFetch:function(){e((function(e){e({type:"POSTS_REQUEST",payload:""}),f.a.all([f.a.get("".concat(E,"posts")),f.a.get("".concat(E,"comments"))]).then(f.a.spread((function(t,n){var a=t.data,o=n.data,r=Object(D.a)(a);a.map((function(e,t){r[t].commentCount=0,r[t].comments=[],o.map((function(n){e.id===n.postId&&(r[t].commentCount=r[t].commentCount+1,r[t].comments.push(n))}))})),e(A(r))}))).catch((function(t){e(R(t.toString())),e({type:"POSTS_FAILURE_DESTROY",payload:"",error:!1})}))}))}}}))(H),M=n(66),X=n.n(M);var B=function(){return o.a.createElement("div",{className:X.a.newsitem},o.a.createElement("div",{className:X.a.text},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad blanditiis, nam, unde saepe voluptatibus nulla laborum dicta voluptas veniam facilis a quae ducimus? Modi id quis hic veritatis voluptatibus asperiores?"),o.a.createElement("div",{className:X.a.posts},o.a.createElement(V,null)))},J=n(49),K=n.n(J),W=U.a.Header,Z=U.a.Content,$=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(U.a,{className:K.a.layout},o.a.createElement(W,{className:K.a.header},o.a.createElement("a",{className:K.a.logo,href:"/profile"},"Profile News")),o.a.createElement(U.a,{className:K.a.layout},o.a.createElement(Z,{className:K.a.content},o.a.createElement(B,null))))}}]),t}(a.Component),ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement($,null))}}]),t}(a.Component),te=Object(d.b)((function(e){return{}}),(function(e){return{}}))(ee);var ne=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(c.a,null,o.a.createElement(i.d,null,o.a.createElement(i.b,{path:"/",exact:!0,component:function(){return o.a.createElement(w,null)}}),o.a.createElement(i.b,{path:"/profile",render:function(){return"true"===localStorage.getItem("isUserAuth")?o.a.createElement(te,null):o.a.createElement(w,null)}}))))},ae=n(35),oe=n(29),re={isUserAuth:!1,isFetched:!1,isFetching:!1,error:!1},se={posts:[],isFetched:!1,isFetching:!1,error:!1},ce=Object(ae.c)({logined:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGINED_REQUEST":return Object(oe.a)({},e,{isFetched:!1,isFetching:!0,error:!1});case"LOGINED_SUCCESS":return Object(oe.a)({},e,{isFetched:!0,isFetching:!1,isUserAuth:!0,error:!1});case O().type:return Object(oe.a)({},e,{isFetched:!0,isFetching:!1,error:t.error});case"LOGINED_FAILURE_DESTROY":return Object(oe.a)({},e,{error:t.error});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_REQUEST":return Object(oe.a)({},e,{isFetched:!1,isFetching:!0,error:!1});case A().type:return Object(oe.a)({},e,{posts:Object(D.a)(t.payload),isFetched:!0,isFetching:!1,error:!1});case R().type:return Object(oe.a)({},e,{isFetched:!0,isFetching:!1,error:t.error});case"POSTS_FAILURE_DESTROY":return Object(oe.a)({},e,{error:!1});default:return e}}}),ie=n(126),le=Object(ae.e)(ce,void 0,Object(ae.d)(Object(ae.a)(ie.a,(function(e){return function(e){return function(t){return console.info("Logger: ",t),e(t)}}})),window.devToolsExtension?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));s.a.render(o.a.createElement(d.a,{store:le},o.a.createElement(ne,null)),document.getElementById("root"))},37:function(e,t,n){e.exports={LoginPage:"LoginPage_LoginPage__brt7m",widget:"LoginPage_widget__DyDSR",head:"LoginPage_head__2ca0y",input:"LoginPage_input__22HLc"}},39:function(e,t,n){e.exports={item:"PostItem_item__2jLgT",comments:"PostItem_comments__ih549",btn:"PostItem_btn__1i_hj",show:"PostItem_show__2Zsbr",hide:"PostItem_hide__1qEDv",badge:"PostItem_badge__3UQxa"}},49:function(e,t,n){e.exports={content:"ProfilePage_content__3s708",logo:"ProfilePage_logo__2CD5h",header:"ProfilePage_header__3zIji"}},66:function(e,t,n){e.exports={text:"News_text__sjVjw",posts:"News_posts__3nxKl"}}},[[128,1,2]]]);
//# sourceMappingURL=main.55baa04f.chunk.js.map